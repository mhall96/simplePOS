{"ast":null,"code":"'use strict';\n\nexports.__esModule = true;\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _actions = require('@appbaseio/reactivecore/lib/actions');\n\nvar _helper = require('@appbaseio/reactivecore/lib/utils/helper');\n\nvar _types = require('@appbaseio/reactivecore/lib/utils/types');\n\nvar _types2 = _interopRequireDefault(_types);\n\nvar _utils = require('../../utils');\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _objectWithoutProperties(obj, keys) {\n  var target = {};\n\n  for (var i in obj) {\n    if (keys.indexOf(i) >= 0) continue;\n    if (!Object.prototype.hasOwnProperty.call(obj, i)) continue;\n    target[i] = obj[i];\n  }\n\n  return target;\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nvar ReactiveComponent = function (_Component) {\n  _inherits(ReactiveComponent, _Component);\n\n  function ReactiveComponent(props) {\n    _classCallCheck(this, ReactiveComponent);\n\n    var _this = _possibleConstructorReturn(this, _Component.call(this, props));\n\n    _initialiseProps.call(_this);\n\n    _this.internalComponent = null;\n    _this.defaultQuery = null;\n    props.setQueryListener(props.componentId, props.onQueryChange, props.onError);\n\n    _this.setQuery = function (_ref) {\n      var options = _ref.options,\n          obj = _objectWithoutProperties(_ref, ['options']);\n\n      if (options) {\n        props.setQueryOptions(props.componentId, _extends({}, options, _this.getAggsQuery()), false);\n      }\n\n      _this.props.updateQuery(_extends({}, obj, {\n        componentId: props.componentId,\n        label: props.filterLabel,\n        showFilter: props.showFilter,\n        URLParams: props.URLParams\n      }));\n    };\n\n    if (props.defaultQuery) {\n      _this.internalComponent = props.componentId + '__internal';\n    }\n\n    props.addComponent(props.componentId);\n    props.setComponentProps(props.componentId, props);\n\n    if (_this.internalComponent) {\n      props.addComponent(_this.internalComponent);\n    }\n\n    _this.setReact(props);\n\n    if (_this.internalComponent && props.defaultQuery) {\n      _this.defaultQuery = props.defaultQuery();\n\n      var _ref2 = _this.defaultQuery || {},\n          query = _ref2.query;\n\n      var defaultQueryOptions = _this.defaultQuery ? (0, _helper.getOptionsFromQuery)(_this.defaultQuery) : null;\n\n      if (defaultQueryOptions) {\n        props.setQueryOptions(_this.internalComponent, _extends({}, defaultQueryOptions, _this.getAggsQuery()), false);\n      } else _this.props.setQueryOptions(_this.internalComponent, _this.getAggsQuery());\n\n      props.updateQuery({\n        componentId: _this.internalComponent,\n        query: query || null\n      });\n    }\n\n    return _this;\n  }\n\n  ReactiveComponent.prototype.componentDidMount = function componentDidMount() {\n    var _props = this.props,\n        customQuery = _props.customQuery,\n        selectedValue = _props.selectedValue,\n        value = _props.value,\n        defaultValue = _props.defaultValue,\n        componentId = _props.componentId,\n        filterLabel = _props.filterLabel,\n        showFilter = _props.showFilter,\n        URLParams = _props.URLParams;\n    var initialValue = selectedValue || value || defaultValue || null;\n\n    if (customQuery) {\n      var calcCustomQuery = customQuery(this.props);\n\n      var _ref3 = calcCustomQuery || {},\n          query = _ref3.query;\n\n      var customQueryOptions = calcCustomQuery ? (0, _helper.getOptionsFromQuery)(calcCustomQuery) : null;\n\n      if (customQueryOptions) {\n        this.props.setQueryOptions(componentId, _extends({}, customQueryOptions, this.getAggsQuery()), false);\n      } else this.props.setQueryOptions(componentId, this.getAggsQuery(), false);\n\n      this.props.updateQuery({\n        componentId: componentId,\n        query: query,\n        value: initialValue,\n        label: filterLabel,\n        showFilter: showFilter,\n        URLParams: URLParams\n      });\n    }\n  };\n\n  ReactiveComponent.prototype.componentDidUpdate = function componentDidUpdate(prevProps) {\n    var _this2 = this;\n\n    (0, _helper.checkSomePropChange)(this.props, prevProps, (0, _utils.getValidPropsKeys)(this.props), function () {\n      _this2.props.updateComponentProps(_this2.props.componentId, _this2.props);\n    }); // only consider hits and defaultQuery when customQuery is absent\n\n    if (this.props.onData) {\n      (0, _helper.checkSomePropChange)(this.props, prevProps, ['hits', 'aggregations', 'promotedResults', 'total', 'time', 'hidden'], function () {\n        _this2.props.onData(_this2.getData());\n      });\n    }\n\n    if (this.props.defaultQuery && !(0, _helper.isEqual)(this.props.defaultQuery(), this.defaultQuery)) {\n      this.defaultQuery = this.props.defaultQuery();\n\n      var _ref4 = this.defaultQuery || {},\n          query = _ref4.query,\n          queryOptions = _objectWithoutProperties(_ref4, ['query']);\n\n      if (queryOptions) {\n        this.props.setQueryOptions(this.internalComponent, _extends({}, queryOptions, this.getAggsQuery()), false);\n      } else this.props.setQueryOptions(this.internalComponent, this.getAggsQuery(), false);\n\n      this.props.updateQuery({\n        componentId: this.internalComponent,\n        query: query || null\n      });\n    }\n\n    if (this.props.customQuery && !(0, _helper.isEqual)(this.props.customQuery(this.props), prevProps.customQuery(this.props))) {\n      var _ref5 = this.props.customQuery(this.props) || {},\n          _query = _ref5.query,\n          _queryOptions = _objectWithoutProperties(_ref5, ['query']);\n\n      if (_queryOptions) {\n        this.props.setQueryOptions(this.props.componentId, _extends({}, _queryOptions, this.getAggsQuery()), false);\n      } else this.props.setQueryOptions(this.props.componentId, this.getAggsQuery(), false);\n\n      this.props.updateQuery({\n        componentId: this.props.componentId,\n        query: _query || null\n      });\n    }\n\n    (0, _helper.checkPropChange)(this.props.react, prevProps.react, function () {\n      _this2.setReact(_this2.props);\n    });\n  };\n\n  ReactiveComponent.prototype.componentWillUnmount = function componentWillUnmount() {\n    this.props.removeComponent(this.props.componentId);\n\n    if (this.internalComponent) {\n      this.props.removeComponent(this.internalComponent);\n    }\n  };\n\n  ReactiveComponent.prototype.getData = function getData() {\n    var _props2 = this.props,\n        hits = _props2.hits,\n        aggregations = _props2.aggregations,\n        aggregationData = _props2.aggregationData,\n        promotedResults = _props2.promotedResults;\n    var filteredResults = (0, _helper.parseHits)(hits);\n\n    if (promotedResults.length) {\n      var ids = promotedResults.map(function (item) {\n        return item._id;\n      }).filter(Boolean);\n\n      if (ids) {\n        filteredResults = filteredResults.filter(function (item) {\n          return !ids.includes(item._id);\n        });\n      }\n\n      filteredResults = [].concat(promotedResults, filteredResults);\n    }\n\n    return {\n      data: filteredResults,\n      promotedData: promotedResults,\n      aggregationData: aggregationData || [],\n      rawData: hits,\n      aggregations: aggregations,\n      resultStats: this.stats\n    };\n  };\n\n  ReactiveComponent.prototype.getComponent = function getComponent() {\n    var _props3 = this.props,\n        error = _props3.error,\n        isLoading = _props3.isLoading,\n        selectedValue = _props3.selectedValue;\n\n    var data = _extends({\n      error: error,\n      loading: isLoading\n    }, this.getData(), {\n      value: selectedValue,\n      setQuery: this.setQuery\n    });\n\n    return (0, _utils.getComponent)(data, this.props);\n  };\n\n  ReactiveComponent.prototype.render = function render() {\n    if ((0, _utils.hasCustomRenderer)(this.props)) {\n      return this.getComponent();\n    }\n\n    return null;\n  };\n\n  _createClass(ReactiveComponent, [{\n    key: 'stats',\n    get: function get() {\n      return (0, _helper.getResultStats)(this.props);\n    }\n  }]);\n\n  return ReactiveComponent;\n}(_react.Component);\n\nvar _initialiseProps = function _initialiseProps() {\n  var _this3 = this;\n\n  this.getAggsQuery = function () {\n    if (_this3.props.aggregationField) {\n      return (0, _helper.getCompositeAggsQuery)({}, _this3.props, null, true);\n    }\n\n    return {};\n  };\n\n  this.setReact = function (props) {\n    var react = props.react;\n\n    if (react) {\n      if (_this3.internalComponent) {\n        var newReact = (0, _helper.pushToAndClause)(react, _this3.internalComponent);\n        props.watchComponent(props.componentId, newReact);\n      } else {\n        props.watchComponent(props.componentId, react);\n      }\n    } else if (_this3.internalComponent) {\n      props.watchComponent(props.componentId, {\n        and: _this3.internalComponent\n      });\n    }\n  };\n};\n\nReactiveComponent.defaultProps = {\n  showFilter: true,\n  URLParams: false,\n  size: 20\n};\nReactiveComponent.propTypes = {\n  addComponent: _types2.default.funcRequired,\n  error: _types2.default.title,\n  removeComponent: _types2.default.funcRequired,\n  setQueryListener: _types2.default.funcRequired,\n  setQueryOptions: _types2.default.funcRequired,\n  updateQuery: _types2.default.funcRequired,\n  watchComponent: _types2.default.funcRequired,\n  aggregationField: _types2.default.string,\n  size: _types2.default.number,\n  aggregations: _types2.default.selectedValues,\n  aggregationData: _types2.default.aggregationData,\n  hits: _types2.default.data,\n  promotedResults: _types2.default.hits,\n  isLoading: _types2.default.bool,\n  selectedValue: _types2.default.selectedValue,\n  setComponentProps: _types2.default.funcRequired,\n  updateComponentProps: _types2.default.funcRequired,\n  // component props\n  children: _types2.default.func,\n  componentId: _types2.default.stringRequired,\n  defaultQuery: _types2.default.func,\n  customQuery: _types2.default.func,\n  defaultValue: _types2.default.any,\n  // eslint-disable-line\n  value: _types2.default.any,\n  // eslint-disable-line\n  filterLabel: _types2.default.string,\n  onQueryChange: _types2.default.func,\n  onError: _types2.default.func,\n  react: _types2.default.react,\n  render: _types2.default.func,\n  showFilter: _types2.default.bool,\n  URLParams: _types2.default.bool,\n  onData: _types2.default.func\n};\n\nvar mapStateToProps = function mapStateToProps(state, props) {\n  return {\n    aggregations: state.aggregations[props.componentId] && state.aggregations[props.componentId] || null,\n    aggregationData: state.compositeAggregations[props.componentId] || [],\n    hits: state.hits[props.componentId] && state.hits[props.componentId].hits || [],\n    selectedValue: state.selectedValues[props.componentId] && state.selectedValues[props.componentId].value || null,\n    isLoading: state.isLoading[props.componentId],\n    error: state.error[props.componentId],\n    promotedResults: state.promotedResults[props.componentId] || [],\n    time: state.hits[props.componentId] && state.hits[props.componentId].time || 0,\n    total: state.hits[props.componentId] && state.hits[props.componentId].total,\n    hidden: state.hits[props.componentId] && state.hits[props.componentId].hidden\n  };\n};\n\nvar mapDispatchtoProps = function mapDispatchtoProps(dispatch) {\n  return {\n    setComponentProps: function setComponentProps(component, options) {\n      return dispatch((0, _actions.setComponentProps)(component, options));\n    },\n    updateComponentProps: function updateComponentProps(component, options) {\n      return dispatch((0, _actions.updateComponentProps)(component, options));\n    },\n    addComponent: function addComponent(component) {\n      return dispatch((0, _actions.addComponent)(component));\n    },\n    removeComponent: function removeComponent(component) {\n      return dispatch((0, _actions.removeComponent)(component));\n    },\n    setQueryOptions: function setQueryOptions(component, props, execute) {\n      return dispatch((0, _actions.setQueryOptions)(component, props, execute));\n    },\n    setQueryListener: function setQueryListener(component, onQueryChange, beforeQueryChange) {\n      return dispatch((0, _actions.setQueryListener)(component, onQueryChange, beforeQueryChange));\n    },\n    updateQuery: function updateQuery(updateQueryObject) {\n      return dispatch((0, _actions.updateQuery)(updateQueryObject));\n    },\n    watchComponent: function watchComponent(component, react) {\n      return dispatch((0, _actions.watchComponent)(component, react));\n    }\n  };\n};\n\nvar ConnectedComponent = (0, _utils.connect)(mapStateToProps, mapDispatchtoProps)(function (props) {\n  return _react2.default.createElement(ReactiveComponent, _extends({\n    ref: props.myForwardedRef\n  }, props));\n}); // eslint-disable-next-line\n\nvar ForwardRefComponent = _react2.default.forwardRef(function (props, ref) {\n  return _react2.default.createElement(ConnectedComponent, _extends({}, props, {\n    myForwardedRef: ref\n  }));\n});\n\nForwardRefComponent.name = 'ReactiveComponent';\nexports.default = ForwardRefComponent;","map":{"version":3,"sources":["C:/Users/victoria/Documents/Project/simplePOS/frontend/node_modules/@appbaseio/reactivesearch/lib/components/basic/ReactiveComponent.js"],"names":["exports","__esModule","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","_createClass","defineProperties","props","descriptor","enumerable","configurable","writable","defineProperty","Constructor","protoProps","staticProps","_react","require","_react2","_interopRequireDefault","_actions","_helper","_types","_types2","_utils","obj","default","_objectWithoutProperties","keys","indexOf","_classCallCheck","instance","TypeError","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","create","constructor","value","setPrototypeOf","__proto__","ReactiveComponent","_Component","_this","_initialiseProps","internalComponent","defaultQuery","setQueryListener","componentId","onQueryChange","onError","setQuery","_ref","options","setQueryOptions","getAggsQuery","updateQuery","label","filterLabel","showFilter","URLParams","addComponent","setComponentProps","setReact","_ref2","query","defaultQueryOptions","getOptionsFromQuery","componentDidMount","_props","customQuery","selectedValue","defaultValue","initialValue","calcCustomQuery","_ref3","customQueryOptions","componentDidUpdate","prevProps","_this2","checkSomePropChange","getValidPropsKeys","updateComponentProps","onData","getData","isEqual","_ref4","queryOptions","_ref5","_query","_queryOptions","checkPropChange","react","componentWillUnmount","removeComponent","_props2","hits","aggregations","aggregationData","promotedResults","filteredResults","parseHits","ids","map","item","_id","filter","Boolean","includes","concat","data","promotedData","rawData","resultStats","stats","getComponent","_props3","error","isLoading","loading","render","hasCustomRenderer","get","getResultStats","Component","_this3","aggregationField","getCompositeAggsQuery","newReact","pushToAndClause","watchComponent","and","defaultProps","size","propTypes","funcRequired","title","string","number","selectedValues","bool","children","func","stringRequired","any","mapStateToProps","state","compositeAggregations","time","total","hidden","mapDispatchtoProps","dispatch","component","execute","beforeQueryChange","updateQueryObject","ConnectedComponent","connect","createElement","ref","myForwardedRef","ForwardRefComponent","forwardRef","name"],"mappings":"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","sourcesContent":["'use strict';\n\nexports.__esModule = true;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _actions = require('@appbaseio/reactivecore/lib/actions');\n\nvar _helper = require('@appbaseio/reactivecore/lib/utils/helper');\n\nvar _types = require('@appbaseio/reactivecore/lib/utils/types');\n\nvar _types2 = _interopRequireDefault(_types);\n\nvar _utils = require('../../utils');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar ReactiveComponent = function (_Component) {\n\t_inherits(ReactiveComponent, _Component);\n\n\tfunction ReactiveComponent(props) {\n\t\t_classCallCheck(this, ReactiveComponent);\n\n\t\tvar _this = _possibleConstructorReturn(this, _Component.call(this, props));\n\n\t\t_initialiseProps.call(_this);\n\n\t\t_this.internalComponent = null;\n\t\t_this.defaultQuery = null;\n\t\tprops.setQueryListener(props.componentId, props.onQueryChange, props.onError);\n\n\t\t_this.setQuery = function (_ref) {\n\t\t\tvar options = _ref.options,\n\t\t\t    obj = _objectWithoutProperties(_ref, ['options']);\n\n\t\t\tif (options) {\n\t\t\t\tprops.setQueryOptions(props.componentId, _extends({}, options, _this.getAggsQuery()), false);\n\t\t\t}\n\t\t\t_this.props.updateQuery(_extends({}, obj, {\n\t\t\t\tcomponentId: props.componentId,\n\t\t\t\tlabel: props.filterLabel,\n\t\t\t\tshowFilter: props.showFilter,\n\t\t\t\tURLParams: props.URLParams\n\t\t\t}));\n\t\t};\n\n\t\tif (props.defaultQuery) {\n\t\t\t_this.internalComponent = props.componentId + '__internal';\n\t\t}\n\n\t\tprops.addComponent(props.componentId);\n\t\tprops.setComponentProps(props.componentId, props);\n\t\tif (_this.internalComponent) {\n\t\t\tprops.addComponent(_this.internalComponent);\n\t\t}\n\n\t\t_this.setReact(props);\n\n\t\tif (_this.internalComponent && props.defaultQuery) {\n\t\t\t_this.defaultQuery = props.defaultQuery();\n\n\t\t\tvar _ref2 = _this.defaultQuery || {},\n\t\t\t    query = _ref2.query;\n\n\t\t\tvar defaultQueryOptions = _this.defaultQuery ? (0, _helper.getOptionsFromQuery)(_this.defaultQuery) : null;\n\n\t\t\tif (defaultQueryOptions) {\n\t\t\t\tprops.setQueryOptions(_this.internalComponent, _extends({}, defaultQueryOptions, _this.getAggsQuery()), false);\n\t\t\t} else _this.props.setQueryOptions(_this.internalComponent, _this.getAggsQuery());\n\n\t\t\tprops.updateQuery({\n\t\t\t\tcomponentId: _this.internalComponent,\n\t\t\t\tquery: query || null\n\t\t\t});\n\t\t}\n\t\treturn _this;\n\t}\n\n\tReactiveComponent.prototype.componentDidMount = function componentDidMount() {\n\t\tvar _props = this.props,\n\t\t    customQuery = _props.customQuery,\n\t\t    selectedValue = _props.selectedValue,\n\t\t    value = _props.value,\n\t\t    defaultValue = _props.defaultValue,\n\t\t    componentId = _props.componentId,\n\t\t    filterLabel = _props.filterLabel,\n\t\t    showFilter = _props.showFilter,\n\t\t    URLParams = _props.URLParams;\n\n\t\tvar initialValue = selectedValue || value || defaultValue || null;\n\n\t\tif (customQuery) {\n\t\t\tvar calcCustomQuery = customQuery(this.props);\n\n\t\t\tvar _ref3 = calcCustomQuery || {},\n\t\t\t    query = _ref3.query;\n\n\t\t\tvar customQueryOptions = calcCustomQuery ? (0, _helper.getOptionsFromQuery)(calcCustomQuery) : null;\n\t\t\tif (customQueryOptions) {\n\t\t\t\tthis.props.setQueryOptions(componentId, _extends({}, customQueryOptions, this.getAggsQuery()), false);\n\t\t\t} else this.props.setQueryOptions(componentId, this.getAggsQuery(), false);\n\t\t\tthis.props.updateQuery({\n\t\t\t\tcomponentId: componentId,\n\t\t\t\tquery: query,\n\t\t\t\tvalue: initialValue,\n\t\t\t\tlabel: filterLabel,\n\t\t\t\tshowFilter: showFilter,\n\t\t\t\tURLParams: URLParams\n\t\t\t});\n\t\t}\n\t};\n\n\tReactiveComponent.prototype.componentDidUpdate = function componentDidUpdate(prevProps) {\n\t\tvar _this2 = this;\n\n\t\t(0, _helper.checkSomePropChange)(this.props, prevProps, (0, _utils.getValidPropsKeys)(this.props), function () {\n\t\t\t_this2.props.updateComponentProps(_this2.props.componentId, _this2.props);\n\t\t});\n\t\t// only consider hits and defaultQuery when customQuery is absent\n\t\tif (this.props.onData) {\n\t\t\t(0, _helper.checkSomePropChange)(this.props, prevProps, ['hits', 'aggregations', 'promotedResults', 'total', 'time', 'hidden'], function () {\n\t\t\t\t_this2.props.onData(_this2.getData());\n\t\t\t});\n\t\t}\n\n\t\tif (this.props.defaultQuery && !(0, _helper.isEqual)(this.props.defaultQuery(), this.defaultQuery)) {\n\t\t\tthis.defaultQuery = this.props.defaultQuery();\n\n\t\t\tvar _ref4 = this.defaultQuery || {},\n\t\t\t    query = _ref4.query,\n\t\t\t    queryOptions = _objectWithoutProperties(_ref4, ['query']);\n\n\t\t\tif (queryOptions) {\n\t\t\t\tthis.props.setQueryOptions(this.internalComponent, _extends({}, queryOptions, this.getAggsQuery()), false);\n\t\t\t} else this.props.setQueryOptions(this.internalComponent, this.getAggsQuery(), false);\n\n\t\t\tthis.props.updateQuery({\n\t\t\t\tcomponentId: this.internalComponent,\n\t\t\t\tquery: query || null\n\t\t\t});\n\t\t}\n\n\t\tif (this.props.customQuery && !(0, _helper.isEqual)(this.props.customQuery(this.props), prevProps.customQuery(this.props))) {\n\t\t\tvar _ref5 = this.props.customQuery(this.props) || {},\n\t\t\t    _query = _ref5.query,\n\t\t\t    _queryOptions = _objectWithoutProperties(_ref5, ['query']);\n\n\t\t\tif (_queryOptions) {\n\t\t\t\tthis.props.setQueryOptions(this.props.componentId, _extends({}, _queryOptions, this.getAggsQuery()), false);\n\t\t\t} else this.props.setQueryOptions(this.props.componentId, this.getAggsQuery(), false);\n\n\t\t\tthis.props.updateQuery({\n\t\t\t\tcomponentId: this.props.componentId,\n\t\t\t\tquery: _query || null\n\t\t\t});\n\t\t}\n\n\t\t(0, _helper.checkPropChange)(this.props.react, prevProps.react, function () {\n\t\t\t_this2.setReact(_this2.props);\n\t\t});\n\t};\n\n\tReactiveComponent.prototype.componentWillUnmount = function componentWillUnmount() {\n\t\tthis.props.removeComponent(this.props.componentId);\n\n\t\tif (this.internalComponent) {\n\t\t\tthis.props.removeComponent(this.internalComponent);\n\t\t}\n\t};\n\n\tReactiveComponent.prototype.getData = function getData() {\n\t\tvar _props2 = this.props,\n\t\t    hits = _props2.hits,\n\t\t    aggregations = _props2.aggregations,\n\t\t    aggregationData = _props2.aggregationData,\n\t\t    promotedResults = _props2.promotedResults;\n\n\t\tvar filteredResults = (0, _helper.parseHits)(hits);\n\t\tif (promotedResults.length) {\n\t\t\tvar ids = promotedResults.map(function (item) {\n\t\t\t\treturn item._id;\n\t\t\t}).filter(Boolean);\n\t\t\tif (ids) {\n\t\t\t\tfilteredResults = filteredResults.filter(function (item) {\n\t\t\t\t\treturn !ids.includes(item._id);\n\t\t\t\t});\n\t\t\t}\n\t\t\tfilteredResults = [].concat(promotedResults, filteredResults);\n\t\t}\n\t\treturn {\n\t\t\tdata: filteredResults,\n\t\t\tpromotedData: promotedResults,\n\t\t\taggregationData: aggregationData || [],\n\t\t\trawData: hits,\n\t\t\taggregations: aggregations,\n\t\t\tresultStats: this.stats\n\t\t};\n\t};\n\n\tReactiveComponent.prototype.getComponent = function getComponent() {\n\t\tvar _props3 = this.props,\n\t\t    error = _props3.error,\n\t\t    isLoading = _props3.isLoading,\n\t\t    selectedValue = _props3.selectedValue;\n\n\t\tvar data = _extends({\n\t\t\terror: error,\n\t\t\tloading: isLoading\n\t\t}, this.getData(), {\n\t\t\tvalue: selectedValue,\n\t\t\tsetQuery: this.setQuery\n\t\t});\n\t\treturn (0, _utils.getComponent)(data, this.props);\n\t};\n\n\tReactiveComponent.prototype.render = function render() {\n\t\tif ((0, _utils.hasCustomRenderer)(this.props)) {\n\t\t\treturn this.getComponent();\n\t\t}\n\t\treturn null;\n\t};\n\n\t_createClass(ReactiveComponent, [{\n\t\tkey: 'stats',\n\t\tget: function get() {\n\t\t\treturn (0, _helper.getResultStats)(this.props);\n\t\t}\n\t}]);\n\n\treturn ReactiveComponent;\n}(_react.Component);\n\nvar _initialiseProps = function _initialiseProps() {\n\tvar _this3 = this;\n\n\tthis.getAggsQuery = function () {\n\t\tif (_this3.props.aggregationField) {\n\t\t\treturn (0, _helper.getCompositeAggsQuery)({}, _this3.props, null, true);\n\t\t}\n\t\treturn {};\n\t};\n\n\tthis.setReact = function (props) {\n\t\tvar react = props.react;\n\n\n\t\tif (react) {\n\t\t\tif (_this3.internalComponent) {\n\t\t\t\tvar newReact = (0, _helper.pushToAndClause)(react, _this3.internalComponent);\n\t\t\t\tprops.watchComponent(props.componentId, newReact);\n\t\t\t} else {\n\t\t\t\tprops.watchComponent(props.componentId, react);\n\t\t\t}\n\t\t} else if (_this3.internalComponent) {\n\t\t\tprops.watchComponent(props.componentId, {\n\t\t\t\tand: _this3.internalComponent\n\t\t\t});\n\t\t}\n\t};\n};\n\nReactiveComponent.defaultProps = {\n\tshowFilter: true,\n\tURLParams: false,\n\tsize: 20\n};\n\nReactiveComponent.propTypes = {\n\taddComponent: _types2.default.funcRequired,\n\terror: _types2.default.title,\n\tremoveComponent: _types2.default.funcRequired,\n\tsetQueryListener: _types2.default.funcRequired,\n\tsetQueryOptions: _types2.default.funcRequired,\n\tupdateQuery: _types2.default.funcRequired,\n\twatchComponent: _types2.default.funcRequired,\n\taggregationField: _types2.default.string,\n\tsize: _types2.default.number,\n\taggregations: _types2.default.selectedValues,\n\taggregationData: _types2.default.aggregationData,\n\thits: _types2.default.data,\n\tpromotedResults: _types2.default.hits,\n\tisLoading: _types2.default.bool,\n\tselectedValue: _types2.default.selectedValue,\n\tsetComponentProps: _types2.default.funcRequired,\n\tupdateComponentProps: _types2.default.funcRequired,\n\t// component props\n\tchildren: _types2.default.func,\n\tcomponentId: _types2.default.stringRequired,\n\tdefaultQuery: _types2.default.func,\n\tcustomQuery: _types2.default.func,\n\tdefaultValue: _types2.default.any, // eslint-disable-line\n\tvalue: _types2.default.any, // eslint-disable-line\n\tfilterLabel: _types2.default.string,\n\tonQueryChange: _types2.default.func,\n\tonError: _types2.default.func,\n\treact: _types2.default.react,\n\trender: _types2.default.func,\n\tshowFilter: _types2.default.bool,\n\tURLParams: _types2.default.bool,\n\tonData: _types2.default.func\n};\n\nvar mapStateToProps = function mapStateToProps(state, props) {\n\treturn {\n\t\taggregations: state.aggregations[props.componentId] && state.aggregations[props.componentId] || null,\n\t\taggregationData: state.compositeAggregations[props.componentId] || [],\n\t\thits: state.hits[props.componentId] && state.hits[props.componentId].hits || [],\n\t\tselectedValue: state.selectedValues[props.componentId] && state.selectedValues[props.componentId].value || null,\n\t\tisLoading: state.isLoading[props.componentId],\n\t\terror: state.error[props.componentId],\n\t\tpromotedResults: state.promotedResults[props.componentId] || [],\n\t\ttime: state.hits[props.componentId] && state.hits[props.componentId].time || 0,\n\t\ttotal: state.hits[props.componentId] && state.hits[props.componentId].total,\n\t\thidden: state.hits[props.componentId] && state.hits[props.componentId].hidden\n\t};\n};\n\nvar mapDispatchtoProps = function mapDispatchtoProps(dispatch) {\n\treturn {\n\t\tsetComponentProps: function setComponentProps(component, options) {\n\t\t\treturn dispatch((0, _actions.setComponentProps)(component, options));\n\t\t},\n\t\tupdateComponentProps: function updateComponentProps(component, options) {\n\t\t\treturn dispatch((0, _actions.updateComponentProps)(component, options));\n\t\t},\n\t\taddComponent: function addComponent(component) {\n\t\t\treturn dispatch((0, _actions.addComponent)(component));\n\t\t},\n\t\tremoveComponent: function removeComponent(component) {\n\t\t\treturn dispatch((0, _actions.removeComponent)(component));\n\t\t},\n\t\tsetQueryOptions: function setQueryOptions(component, props, execute) {\n\t\t\treturn dispatch((0, _actions.setQueryOptions)(component, props, execute));\n\t\t},\n\t\tsetQueryListener: function setQueryListener(component, onQueryChange, beforeQueryChange) {\n\t\t\treturn dispatch((0, _actions.setQueryListener)(component, onQueryChange, beforeQueryChange));\n\t\t},\n\t\tupdateQuery: function updateQuery(updateQueryObject) {\n\t\t\treturn dispatch((0, _actions.updateQuery)(updateQueryObject));\n\t\t},\n\t\twatchComponent: function watchComponent(component, react) {\n\t\t\treturn dispatch((0, _actions.watchComponent)(component, react));\n\t\t}\n\t};\n};\n\nvar ConnectedComponent = (0, _utils.connect)(mapStateToProps, mapDispatchtoProps)(function (props) {\n\treturn _react2.default.createElement(ReactiveComponent, _extends({ ref: props.myForwardedRef }, props));\n});\n\n// eslint-disable-next-line\nvar ForwardRefComponent = _react2.default.forwardRef(function (props, ref) {\n\treturn _react2.default.createElement(ConnectedComponent, _extends({}, props, { myForwardedRef: ref }));\n});\n\nForwardRefComponent.name = 'ReactiveComponent';\nexports.default = ForwardRefComponent;"]},"metadata":{},"sourceType":"script"}