{"ast":null,"code":"import _regeneratorRuntime from\"C:\\\\Users\\\\victoria\\\\Documents\\\\Project\\\\simplePOS\\\\frontend\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _toConsumableArray from\"C:\\\\Users\\\\victoria\\\\Documents\\\\Project\\\\simplePOS\\\\frontend\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";import _classCallCheck from\"C:\\\\Users\\\\victoria\\\\Documents\\\\Project\\\\simplePOS\\\\frontend\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\victoria\\\\Documents\\\\Project\\\\simplePOS\\\\frontend\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"C:\\\\Users\\\\victoria\\\\Documents\\\\Project\\\\simplePOS\\\\frontend\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"C:\\\\Users\\\\victoria\\\\Documents\\\\Project\\\\simplePOS\\\\frontend\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";import _assertThisInitialized from\"C:\\\\Users\\\\victoria\\\\Documents\\\\Project\\\\simplePOS\\\\frontend\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";import _inherits from\"C:\\\\Users\\\\victoria\\\\Documents\\\\Project\\\\simplePOS\\\\frontend\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import React,{Component}from'react';import{Button,ButtonGroup,Container,Table}from'reactstrap';import AppNavbar from'./AppNavbar';import{Link,withRouter}from'react-router-dom';import{withCookies,Cookies}from'react-cookie';var GroupList=/*#__PURE__*/function(_Component){_inherits(GroupList,_Component);function GroupList(props){var _this;_classCallCheck(this,GroupList);_this=_possibleConstructorReturn(this,_getPrototypeOf(GroupList).call(this,props));var cookies=props.cookies;_this.state={groups:[],csrfToken:cookies.get('XSRF-TOKEN'),isLoading:true};_this.remove=_this.remove.bind(_assertThisInitialized(_this));return _this;}_createClass(GroupList,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;this.setState({isLoading:true});fetch('api/groups',{credentials:'include'}).then(function(response){return response.json();}).then(function(data){return _this2.setState({groups:data,isLoading:false});}).catch(function(){return _this2.props.history.push('/');});}},{key:\"remove\",value:function remove(id){var _this3=this;return _regeneratorRuntime.async(function remove$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return _regeneratorRuntime.awrap(fetch(\"/api/group/\".concat(id),{method:'DELETE',headers:{'X-XSRF-TOKEN':this.state.csrfToken,'Accept':'application/json','Content-Type':'application/json'},credentials:'include'}).then(function(){var updatedGroups=_toConsumableArray(_this3.state.groups).filter(function(i){return i.id!==id;});_this3.setState({groups:updatedGroups});}));case 2:case\"end\":return _context.stop();}}},null,this);}},{key:\"render\",value:function render(){var _this4=this;var _this$state=this.state,groups=_this$state.groups,isLoading=_this$state.isLoading;if(isLoading){return React.createElement(\"p\",null,\"Loading...\");}var groupList=groups.map(function(group){var address=\"\".concat(group.address||'',\" \").concat(group.city||'',\" \").concat(group.stateOrProvince||'');return React.createElement(\"tr\",{key:group.id},React.createElement(\"td\",{style:{whiteSpace:'nowrap'}},group.name),React.createElement(\"td\",null,address),React.createElement(\"td\",null,group.events.map(function(event){return React.createElement(\"div\",{key:event.id},new Intl.DateTimeFormat('en-US',{year:'numeric',month:'long',day:'2-digit'}).format(new Date(event.date)),\": \",event.title);})),React.createElement(\"td\",null,React.createElement(ButtonGroup,null,React.createElement(Button,{size:\"sm\",color:\"primary\",tag:Link,to:\"/groups/\"+group.id},\"Edit\"),React.createElement(Button,{size:\"sm\",color:\"danger\",onClick:function onClick(){return _this4.remove(group.id);}},\"Delete\"))));});return React.createElement(\"div\",null,React.createElement(AppNavbar,null),React.createElement(Container,{fluid:true},React.createElement(\"div\",{className:\"float-right\"},React.createElement(Button,{color:\"success\",tag:Link,to:\"/groups/new\"},\"Add Group\")),React.createElement(\"h3\",null,\"My JUG Tour\"),React.createElement(Table,{className:\"mt-4\"},React.createElement(\"thead\",null,React.createElement(\"tr\",null,React.createElement(\"th\",{width:\"20%\"},\"Name\"),React.createElement(\"th\",{width:\"20%\"},\"Location\"),React.createElement(\"th\",null,\"Events\"),React.createElement(\"th\",{width:\"10%\"},\"Actions\"))),React.createElement(\"tbody\",null,groupList))));}}]);return GroupList;}(Component);export default withCookies(withRouter(GroupList));","map":{"version":3,"sources":["C:/Users/victoria/Documents/Project/simplePOS/frontend/src/GroupList.js"],"names":["React","Component","Button","ButtonGroup","Container","Table","AppNavbar","Link","withRouter","withCookies","Cookies","GroupList","props","cookies","state","groups","csrfToken","get","isLoading","remove","bind","setState","fetch","credentials","then","response","json","data","catch","history","push","id","method","headers","updatedGroups","filter","i","groupList","map","group","address","city","stateOrProvince","whiteSpace","name","events","event","Intl","DateTimeFormat","year","month","day","format","Date","date","title"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport { Button, ButtonGroup, Container, Table } from 'reactstrap';\r\nimport AppNavbar from './AppNavbar';\r\nimport { Link, withRouter } from 'react-router-dom';\r\nimport { instanceOf } from 'prop-types';\r\nimport { withCookies, Cookies } from 'react-cookie';\r\n\r\nclass GroupList extends Component {\r\n\r\n\tstatic propTypes = {\r\n\t\tcookies: instanceOf(Cookies).isRequired\r\n\t};\r\n\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tconst { cookies } = props;\r\n\t\tthis.state = { groups: [], csrfToken: cookies.get('XSRF-TOKEN'), isLoading: true };\r\n\t\tthis.remove = this.remove.bind(this);\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tthis.setState({ isLoading: true });\r\n\r\n\t\tfetch('api/groups', { credentials: 'include' })\r\n\t\t\t.then(response => response.json())\r\n\t\t\t.then(data => this.setState({ groups: data, isLoading: false }))\r\n\t\t\t.catch(() => this.props.history.push('/'));\r\n\t}\r\n\tasync remove(id) {\r\n\t\tawait fetch(`/api/group/${id}`, {\r\n\t\t\tmethod: 'DELETE',\r\n\t\t\theaders: {\r\n\t\t\t\t'X-XSRF-TOKEN': this.state.csrfToken,\r\n\t\t\t\t'Accept': 'application/json',\r\n\t\t\t\t'Content-Type': 'application/json'\r\n\t\t\t},\r\n\t\t\tcredentials: 'include'\r\n\t\t}).then(() => {\r\n\t\t\tlet updatedGroups = [...this.state.groups].filter(i => i.id !== id);\r\n\t\t\tthis.setState({ groups: updatedGroups });\r\n\t\t});\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { groups, isLoading } = this.state;\r\n\r\n\t\tif (isLoading) {\r\n\t\t\treturn <p>Loading...</p>;\r\n\t\t}\r\n\r\n\t\tconst groupList = groups.map(group => {\r\n\t\t\tconst address = `${group.address || ''} ${group.city || ''} ${group.stateOrProvince || ''}`;\r\n\t\t\treturn <tr key={group.id}>\r\n\t\t\t\t<td style={{ whiteSpace: 'nowrap' }}>{group.name}</td>\r\n\t\t\t\t<td>{address}</td>\r\n\t\t\t\t<td>{group.events.map(event => {\r\n\t\t\t\t\treturn <div key={event.id}>{new Intl.DateTimeFormat('en-US', {\r\n\t\t\t\t\t\tyear: 'numeric',\r\n\t\t\t\t\t\tmonth: 'long',\r\n\t\t\t\t\t\tday: '2-digit'\r\n\t\t\t\t\t}).format(new Date(event.date))}: {event.title}</div>\r\n\t\t\t\t})}</td>\r\n\t\t\t\t<td>\r\n\t\t\t\t\t<ButtonGroup>\r\n\t\t\t\t\t\t<Button size=\"sm\" color=\"primary\" tag={Link} to={\"/groups/\" + group.id}>Edit</Button>\r\n\t\t\t\t\t\t<Button size=\"sm\" color=\"danger\" onClick={() => this.remove(group.id)}>Delete</Button>\r\n\t\t\t\t\t</ButtonGroup>\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\t\t});\r\n\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<AppNavbar />\r\n\t\t\t\t<Container fluid>\r\n\t\t\t\t\t<div className=\"float-right\">\r\n\t\t\t\t\t\t<Button color=\"success\" tag={Link} to=\"/groups/new\">Add Group</Button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<h3>My JUG Tour</h3>\r\n\t\t\t\t\t<Table className=\"mt-4\">\r\n\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<th width=\"20%\">Name</th>\r\n\t\t\t\t\t\t\t\t<th width=\"20%\">Location</th>\r\n\t\t\t\t\t\t\t\t<th>Events</th>\r\n\t\t\t\t\t\t\t\t<th width=\"10%\">Actions</th>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t{groupList}\r\n\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t</Table>\r\n\t\t\t\t</Container>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default withCookies(withRouter(GroupList));"]},"metadata":{},"sourceType":"module"}