{"ast":null,"code":"Object.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nexports.setSuggestionsSearchValue = setSuggestionsSearchValue;\nexports.clearSuggestionsSearchValue = clearSuggestionsSearchValue;\nexports.updateAnalyticsConfig = updateAnalyticsConfig;\nexports.recordResultClick = recordResultClick;\nexports.recordSuggestionClick = recordSuggestionClick;\n\nvar _constants = require('../constants');\n\nfunction setSuggestionsSearchValue(value) {\n  return {\n    type: _constants.SET_SUGGESTIONS_SEARCH_VALUE,\n    value: value\n  };\n}\n\nfunction clearSuggestionsSearchValue() {\n  return {\n    type: _constants.CLEAR_SUGGESTIONS_SEARCH_VALUE\n  };\n}\n\nfunction updateAnalyticsConfig(analyticsConfig) {\n  return {\n    type: _constants.UPDATE_ANALYTICS_CONFIG,\n    analyticsConfig: analyticsConfig\n  };\n}\n\nfunction recordResultClick(searchPosition) {\n  return function (dispatch, getState) {\n    var _getState = getState(),\n        config = _getState.config,\n        searchId = _getState.analytics.searchId,\n        headers = _getState.headers;\n\n    var url = config.url,\n        app = config.app,\n        credentials = config.credentials;\n\n    if (config.analytics && searchId) {\n      var parsedHeaders = headers;\n      delete parsedHeaders['X-Search-Query'];\n      fetch(url + '/' + app + '/_analytics', {\n        method: 'POST',\n        headers: _extends({}, parsedHeaders, {\n          'Content-Type': 'application/json',\n          Authorization: 'Basic ' + btoa(credentials),\n          'X-Search-Id': searchId,\n          'X-Search-Click': true,\n          'X-Search-ClickPosition': searchPosition + 1\n        })\n      });\n    }\n  };\n}\n\nfunction recordSuggestionClick(searchPosition) {\n  return function (dispatch, getState) {\n    var _getState2 = getState(),\n        config = _getState2.config,\n        suggestionsSearchId = _getState2.analytics.suggestionsSearchId,\n        headers = _getState2.headers;\n\n    var url = config.url,\n        app = config.app,\n        credentials = config.credentials;\n\n    if (config.analytics && suggestionsSearchId) {\n      var parsedHeaders = headers;\n      delete parsedHeaders['X-Search-Query'];\n      fetch(url + '/' + app + '/_analytics', {\n        method: 'POST',\n        headers: _extends({}, parsedHeaders, {\n          'Content-Type': 'application/json',\n          Authorization: 'Basic ' + btoa(credentials),\n          'X-Search-Id': suggestionsSearchId,\n          'X-Search-Suggestions-Click': true\n        }, searchPosition !== undefined && {\n          'X-Search-Suggestions-ClickPosition': searchPosition + 1\n        })\n      });\n    }\n  };\n}","map":{"version":3,"sources":["C:/Users/victoria/Documents/Project/simplePOS/frontend/node_modules/@appbaseio/reactivecore/lib/actions/analytics.js"],"names":["Object","defineProperty","exports","value","_extends","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","setSuggestionsSearchValue","clearSuggestionsSearchValue","updateAnalyticsConfig","recordResultClick","recordSuggestionClick","_constants","require","type","SET_SUGGESTIONS_SEARCH_VALUE","CLEAR_SUGGESTIONS_SEARCH_VALUE","analyticsConfig","UPDATE_ANALYTICS_CONFIG","searchPosition","dispatch","getState","_getState","config","searchId","analytics","headers","url","app","credentials","parsedHeaders","fetch","method","Authorization","btoa","_getState2","suggestionsSearchId","undefined"],"mappings":"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","sourcesContent":["Object.defineProperty(exports,\"__esModule\",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key];}}}return target;};exports.setSuggestionsSearchValue=setSuggestionsSearchValue;exports.clearSuggestionsSearchValue=clearSuggestionsSearchValue;exports.updateAnalyticsConfig=updateAnalyticsConfig;exports.recordResultClick=recordResultClick;exports.recordSuggestionClick=recordSuggestionClick;var _constants=require('../constants');function setSuggestionsSearchValue(value){return{type:_constants.SET_SUGGESTIONS_SEARCH_VALUE,value:value};}function clearSuggestionsSearchValue(){return{type:_constants.CLEAR_SUGGESTIONS_SEARCH_VALUE};}function updateAnalyticsConfig(analyticsConfig){return{type:_constants.UPDATE_ANALYTICS_CONFIG,analyticsConfig:analyticsConfig};}function recordResultClick(searchPosition){return function(dispatch,getState){var _getState=getState(),config=_getState.config,searchId=_getState.analytics.searchId,headers=_getState.headers;var url=config.url,app=config.app,credentials=config.credentials;if(config.analytics&&searchId){var parsedHeaders=headers;delete parsedHeaders['X-Search-Query'];fetch(url+'/'+app+'/_analytics',{method:'POST',headers:_extends({},parsedHeaders,{'Content-Type':'application/json',Authorization:'Basic '+btoa(credentials),'X-Search-Id':searchId,'X-Search-Click':true,'X-Search-ClickPosition':searchPosition+1})});}};}function recordSuggestionClick(searchPosition){return function(dispatch,getState){var _getState2=getState(),config=_getState2.config,suggestionsSearchId=_getState2.analytics.suggestionsSearchId,headers=_getState2.headers;var url=config.url,app=config.app,credentials=config.credentials;if(config.analytics&&suggestionsSearchId){var parsedHeaders=headers;delete parsedHeaders['X-Search-Query'];fetch(url+'/'+app+'/_analytics',{method:'POST',headers:_extends({},parsedHeaders,{'Content-Type':'application/json',Authorization:'Basic '+btoa(credentials),'X-Search-Id':suggestionsSearchId,'X-Search-Suggestions-Click':true},searchPosition!==undefined&&{'X-Search-Suggestions-ClickPosition':searchPosition+1})});}};}"]},"metadata":{},"sourceType":"script"}